{% extends 'base.html' %}
{% block title %}Mental Math{% endblock title %}

{% block content %}  

    <main class="fc-pc">
        <nav>
            <details id="settings_drop_down">
                <summary>settings</summary>
            <form id="settings">
                <ul>
                    <li>
                    <label for="operator_name">exercise</label>
                    <select id = "operator_name" name="operator_name">
                        <option value = "addition">addition</option>
                        <option value = "subtraction">subtraction</option>
                        <option value = "multiplication">multiplication</option>
                        <option value = "division">division</option>
                    </select></li>
                    <li><label for="a_digits"># digits left</label>
                    <input name="a_digits" type="number" min="1" max="15" value="1"></li>
                    <li><label for="b_digits"># digits right</label>
                    <input name="b_digits" type="number" min="1" max="15" value="1"></li>
                    <li><label for="readAloud">read aloud</label>
                    <input id="readAloud" type="checkbox" name="readAloud"></li>
                    <li><label for="showQuestion">show question</label>
                    <input id="showQuestion" type="checkbox" name="showQuestion" checked></li>
                    <li><label for="speechRecognition">speech recognition</label>
                    <input id="speechRecognition" type="checkbox" name="speechRecognition"></li>
                    <li><input id="update_settings" type="submit" value="update settings"></li>
                </ul>
            </form>
            </details>
        </nav>
        <div>
            <div id="question-area">
                <p id="exercise-type"></p>
                <p id="question"></p>
            </div> 
            <div id="input-area" class="answer-feedback-area">
                <form  id="myForm">
                    {% csrf_token %}  
                    
                    <p ><input id="user_answer" name="user_answer" type="number"></p>
                    
                    <input type="hidden" name="operator_name"  > 
                    <input type="hidden" name="a_digits"       >   
                    <input type="hidden" name="b_digits"       >
                    <input type="hidden" name="question"       >
                    <input type="hidden" name="answer"         >
                    <input type="hidden" name="correct"        >
                    <input type="hidden" name="username" value="{{ user.username }}" >
                    <input type="hidden" name="duration"       >
                    <input type="submit" class="buttons" id="submit-answer"></button>
                </form>
                
            </div>
            <div class="answer-feedback-area" id="feedback">
                <div >
                    <p id="correct-incorrect"></p>
                    <p id="your-answer"></p>
                    <p id="correct-answer"></p>
                    <p id="time-taken"></p>
                </div>
                <button class="buttons" id="new-question">new question</button>
            </div>
        </div>
        <div>
            {% if user.is_authenticated %}
                <table id="dailyStatsTable" class="table table-bordered">
                    <thead class="thead-dark">
                        <tr><th id="daily_stats_heading" scope="col" colspan="2" >daily stats</th></tr>
                    </thead>
                    <tr>
                        <th scope="row">correct</th>
                        <td id="n_correct"></td>
                    </tr>
                        <tr>    
                            <th scope="row">target</th>
                            <td id="daily_target"></td>
                        </tr>     
                    <tr>
                        <th scope="row">incorrect</th>
                        <td id="n_incorrect"></td>
                    </tr>
                    <tr>
                        <th scope="row">accuracy</th>
                        <td id="daily_accuracy"></td>
                    </tr>
                    <tr>
                        <th scope="row">time per question </th>
                        <td id="daily_average_duration"></td>
                    </tr>
                </table>

                
            {% endif %}
        </div>
    </main>

    {% load static %}
    <script src="{% static 'exercises/script.js' %}"></script>

{% endblock content %}